syntax = "proto3";

package cline;
option java_package = "bot.cline.proto";
option java_multiple_files = true;

import "common.proto";

// Service for file-related operations
service FileService {
  // Opens a file in the editor
  rpc openFile(StringRequest) returns (Empty);
  
  // Opens an image in the system viewer
  rpc openImage(StringRequest) returns (Empty);
  // Creates a rule file in either global or workspace rules directory
  rpc createRuleFile(CreateRuleFileRequest) returns (CreateRuleFileResponse);
  // Deletes a rule file from either global or workspace rules directory
  rpc deleteRuleFile(DeleteRuleFileRequest) returns (OperationResponse);
}

// Request for deleting a rule file
message DeleteRuleFileRequest {
  Metadata metadata = 1;
  string rule_path = 2;  // Path of the rule file to delete
  bool is_global = 3;    // Whether the file is in global or workspace rules directory
}

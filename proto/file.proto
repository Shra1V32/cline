syntax = "proto3";

package cline;
option java_package = "bot.cline.proto";
option java_multiple_files = true;

import "common.proto";

// Service for file-related operations
service FileService {
  // Opens a file in the editor
  rpc openFile(StringRequest) returns (Empty);
  
  // Opens an image in the system viewer
  rpc openImage(StringRequest) returns (Empty);
  
  // Creates a rule file from either global or workspace rules directory
  rpc createRuleFile(CreateRuleFileRequest) returns (RuleFile);

  // Deletes a rule file from either global or workspace rules directory
  rpc deleteRuleFile(DeleteRuleFileRequest) returns (RuleFile);
}

// Request for deleteRuleFile
message DeleteRuleFileRequest {
  Metadata metadata = 1;
  string rule_path = 2; // Path of the rule file to delete
  bool is_global = 3;   // Whether to delete in global or workspace rules directory
}

// Request for creating a rule file
message CreateRuleFileRequest {
  Metadata metadata = 1;
  string filename = 2;  // Name of the rule file to create
  bool is_global = 3;   // Whether to create in global or workspace rules directory
}

// Result for rule file operations with meaningful data only
message RuleFile {
  string file_path = 1;     // Path to the rule file
  string display_name = 2;  // Filename for display purposes
  // Creates a rule file in either global or workspace rules directory
}

